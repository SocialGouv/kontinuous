// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`post-renderer.dev 1`] = `
"- apiVersion: v1
  kind: Namespace
  metadata:
    annotations:
      janitor/ttl: 7d
      field.cattle.io/projectId: '1234'
      kontinuous/gitBranch: feature-branch-1
      kontinuous/mainNamespace: 'true'
      kapp.k14s.io/exists: ''
    labels:
      application: test-post-renderer
      foo: bar
    name: test-post-renderer-feature-branch-1
- apiVersion: networking.k8s.io/v1
  kind: NetworkPolicy
  metadata:
    name: netpol-ingress
    namespace: test-post-renderer-feature-branch-1
  spec:
    ingress:
      - from:
          - podSelector: {}
      - from:
          - namespaceSelector:
              matchLabels:
                network-policy/source: ingress-controller
      - from:
          - namespaceSelector:
              matchLabels:
                network-policy/source: monitoring
    podSelector: {}
    policyTypes:
      - Ingress
- apiVersion: v1
  kind: ResourceQuota
  metadata:
    name: security-quota
    namespace: test-post-renderer-feature-branch-1
  spec:
    hard:
      count/services.loadbalancers: 0
      count/services.nodeports: 0
      count/persistentvolumeclaims: 10
- apiVersion: v1
  kind: LimitRange
  metadata:
    name: default-limits
    namespace: test-post-renderer-feature-branch-1
  spec:
    limits:
      - type: Container
        default:
          cpu: 500m
          memory: 512Mi
        defaultRequest:
          cpu: 100m
          memory: 128Mi
        max:
          cpu: 3
          memory: 8Gi
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    name: default
  automountServiceAccountToken: false
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      component: app
      application: test-post-renderer
    name: app
    namespace: test-post-renderer-feature-branch-1
    annotations:
      kapp.k14s.io/disable-default-ownership-label-rules: ''
      kapp.k14s.io/disable-default-label-scoping-rules: ''
  spec:
    ports:
      - name: http
        port: 80
        targetPort: 3000
    selector:
      component: app
    type: ClusterIP
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      component: app
      application: test-post-renderer
    name: app
    namespace: test-post-renderer-feature-branch-1
    annotations:
      kapp.k14s.io/change-group: kontinuous/test-post-renderer-feature-branch-1
      kapp.k14s.io/change-group.app: kontinuous/app.test-post-renderer-feature-branch-1
  spec:
    replicas: 1
    selector:
      matchLabels:
        component: app
    template:
      metadata:
        labels:
          component: app
          application: test-post-renderer
          namespace: test-post-renderer-feature-branch-1
      spec:
        affinity:
          podAntiAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              - labelSelector:
                  matchExpressions:
                    - key: namespace
                      operator: In
                      values:
                        - test-post-renderer-feature-branch-1
                    - key: component
                      operator: In
                      values:
                        - app
                topologyKey: kubernetes.io/hostname
        containers:
          - image: >-
              harbor.fabrique.social.gouv.fr/test-post-renderer/app:sha-ffac537e6cbbf934b08745a378932722df287a53
            livenessProbe:
              failureThreshold: 15
              httpGet:
                path: /index.html
                port: http
              initialDelaySeconds: 30
              periodSeconds: 5
              timeoutSeconds: 5
            name: app
            ports:
              - containerPort: 3000
                name: http
            readinessProbe:
              failureThreshold: 15
              httpGet:
                path: /index.html
                port: http
              initialDelaySeconds: 0
              periodSeconds: 5
              successThreshold: 1
              timeoutSeconds: 1
            resources:
              limits:
                cpu: 500m
                memory: 512Mi
              requests:
                cpu: 100m
                memory: 128Mi
            startupProbe:
              failureThreshold: 12
              httpGet:
                path: /index.html
                port: http
              periodSeconds: 5
- apiVersion: networking.k8s.io/v1
  kind: Ingress
  metadata:
    annotations:
      kubernetes.io/ingress.class: nginx
    labels:
      component: app
      application: test-post-renderer
    name: app
    namespace: test-post-renderer-feature-branch-1
  spec:
    rules:
      - host: test-post-renderer-feature-branch-1.dev.fabrique.social.gouv.fr
        http:
          paths:
            - backend:
                service:
                  name: app
                  port:
                    name: http
              path: /
              pathType: Prefix
    tls:
      - hosts:
          - test-post-renderer-feature-branch-1.dev.fabrique.social.gouv.fr
        secretName: wildcard-crt
"
`;
