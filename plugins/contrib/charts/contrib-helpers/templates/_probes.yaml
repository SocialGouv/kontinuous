{{- define "contrib-helpers.probe" -}}
{{ if .Values.probesPort }}
tcpSocket:
  port: {{ .Values.probesPort }}
{{ else if .Values.probesPath }}
httpGet:
  path: {{ .Values.probesPath }}
  port: http
{{ end }}
{{- end -}}

{{- define "contrib-helpers.livenessProbe" -}}
{{ if .Values.livenessProbe }}
{{ .Values.livenessProbe | toYaml }}
{{ else }}
{{- include "contrib-helpers.probe" . }}
{{- end -}}
{{- end -}}

{{- define "contrib-helpers.readinessProbe" -}}
{{ if .Values.readinessProbe }}
{{ .Values.readinessProbe | toYaml }}
{{ else }}
{{- include "contrib-helpers.probe" . }}
{{- end -}}
{{- end -}}

{{- define "contrib-helpers.startupProbe" -}}
{{ if .Values.startupProbe }}
{{ .Values.startupProbe | toYaml }}
{{ else }}
{{- include "contrib-helpers.probe" . }}
{{- end -}}
{{- end -}}
